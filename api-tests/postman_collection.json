{
  "info": {
    "_postman_id": "4c86f2d3-1528-458f-b08a-dbab2b98bce9",
    "name": "Pet Shelter API - Complete Test Suite",
    "description": "Comprehensive positive and negative tests for all Pet Shelter API endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "49457499"
  },
  "item": [
    {
      "name": "Auth - Positive Tests",
      "item": [
        {
          "name": "Register - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains user data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('email');",
                  "    pm.expect(jsonData).to.have.property('firstName');",
                  "    pm.expect(jsonData).to.have.property('lastName');",
                  "    pm.collectionVariables.set('TEST_USER_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"testuser{{$timestamp}}@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains access token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('accessToken');",
                  "    pm.expect(jsonData).to.have.property('tokenType');",
                  "    pm.expect(jsonData.tokenType).to.eql('Bearer');",
                  "    pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
                  "});",
                  "",
                  "pm.test(\"Refresh token cookie is set\", function () {",
                  "    pm.expect(pm.cookies.has('refresh_token')).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"ox1@gmail.com\",\n  \"password\": \"test123!\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Profile (Me) - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains user profile\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('email');",
                  "    pm.expect(jsonData).to.have.property('role');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{PROFILE_ENDPOINT}}",
              "host": ["{{BASEURL}}{{PROFILE_ENDPOINT}}"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains new access token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('accessToken');",
                  "    pm.expect(jsonData).to.have.property('tokenType');",
                  "    pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
                  "});",
                  "",
                  "pm.test(\"New refresh token cookie is set\", function () {",
                  "    pm.expect(pm.cookies.has('refresh_token')).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{BASEURL}}{{REFRESH}}",
              "host": ["{{BASEURL}}{{REFRESH}}"]
            }
          },
          "response": []
        },
        {
          "name": "Logout - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "pm.test(\"Refresh cookie is cleared\", function () {",
                  "    var setCookie = pm.response.headers.get('Set-Cookie');",
                  "    if (setCookie) {",
                  "        pm.expect(setCookie).to.include('refresh_token=');",
                  "        pm.expect(setCookie).to.include('Max-Age=0');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{LOGOUT}}",
              "host": ["{{BASEURL}}{{LOGOUT}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Auth - Negative Tests",
      "item": [
        {
          "name": "Register - Missing Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains validation error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(jsonData.details).to.have.property('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Invalid Email Format",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid email\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"notanemail\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Register - First Name Too Short",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response indicates firstName is too short\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('firstName');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"firstName\": \"J\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Invalid Phone Format",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid phone format\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('phone');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"abc\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Password Too Short",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response indicates password is too short\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('password');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"Pass@1\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Password Without Special Character",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response indicates password needs special character\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('special');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"password\": \"Password123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains multiple validation errors\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(Object.keys(jsonData.details).length).to.be.greaterThan(1);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}{{REGISTER}}",
              "host": ["{{BASEURL}}{{REGISTER}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Missing Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains email validation error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Invalid Email Format",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid email\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"notanemail\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Missing Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains password validation error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(JSON.stringify(jsonData.details)).to.include('password');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Wrong Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid credentials\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/invalid|unauthorized|credentials|authentication/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"WrongPassword@123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Non-existent User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid credentials\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/invalid|unauthorized|credentials|not found/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"nonexistent@example.com\",\n  \"password\": \"Pass@word123\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains validation errors\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('details');",
                  "    pm.expect(Object.keys(jsonData.details).length).to.be.greaterThan(0);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}{{LOGIN}}",
              "host": ["{{BASEURL}}{{LOGIN}}"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh - Missing Refresh Token Cookie",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 401\", function () {", "    pm.response.to.have.status(401);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{BASEURL}}{{REFRESH}}",
              "host": ["{{BASEURL}}{{REFRESH}}"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh - Invalid Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401 or 403\", function () {",
                  "    pm.expect([401, 403]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/invalid|unauthorized|token/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Cookie",
                "value": "refresh_token=invalid_token_12345"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{REFRESH}}",
              "host": ["{{BASEURL}}{{REFRESH}}"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh - Malformed Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401 or 403\", function () {",
                  "    pm.expect([401, 403]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Response indicates malformed token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/invalid|malformed|token/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Cookie",
                "value": "refresh_token=not.a.jwt"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{REFRESH}}",
              "host": ["{{BASEURL}}{{REFRESH}}"]
            }
          },
          "response": []
        },
        {
          "name": "Me - Missing Authorization Header",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response indicates unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/unauthorized|authentication|token/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASEURL}}{{PROFILE_ENDPOINT}}",
              "host": ["{{BASEURL}}{{PROFILE_ENDPOINT}}"]
            }
          },
          "response": []
        },
        {
          "name": "Me - Invalid Access Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401 or 403\", function () {",
                  "    pm.expect([401, 403]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Response indicates invalid token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/invalid|unauthorized|token/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer invalid_token_12345"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{PROFILE_ENDPOINT}}",
              "host": ["{{BASEURL}}{{PROFILE_ENDPOINT}}"]
            }
          },
          "response": []
        },
        {
          "name": "Me - Malformed Authorization Header",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response indicates unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/unauthorized|invalid|token/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "InvalidFormat token123"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{PROFILE_ENDPOINT}}",
              "host": ["{{BASEURL}}{{PROFILE_ENDPOINT}}"]
            }
          },
          "response": []
        },
        {
          "name": "Logout - No Authorization Header or Cookie",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204 or 401\", function () {",
                  "    pm.expect([204, 401]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Cookie is cleared if set\", function () {",
                  "    var setCookie = pm.response.headers.get('Set-Cookie');",
                  "    if (setCookie) {",
                  "        pm.expect(setCookie).to.include('Max-Age=0');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{BASEURL}}{{LOGOUT}}",
              "host": ["{{BASEURL}}{{LOGOUT}}"]
            }
          },
          "response": []
        },
        {
          "name": "Logout - Invalid Access Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204 or 401\", function () {",
                  "    pm.expect([204, 401]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Refresh cookie is cleared\", function () {",
                  "    var setCookie = pm.response.headers.get('Set-Cookie');",
                  "    if (setCookie) {",
                  "        pm.expect(setCookie).to.include('refresh_token=');",
                  "        pm.expect(setCookie).to.include('Max-Age=0');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer invalid_token_12345"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}{{LOGOUT}}",
              "host": ["{{BASEURL}}{{LOGOUT}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Animal Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Animals - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is paginated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('content');",
                  "    pm.expect(jsonData).to.have.property('totalElements');",
                  "    pm.expect(jsonData).to.have.property('totalPages');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal?page=0&size=8",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "8"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Animals - With Filters",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is paginated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('content');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal?status=AVAILABLE&isActive=true&search=dog",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal"],
              "query": [
                {
                  "key": "status",
                  "value": "AVAILABLE"
                },
                {
                  "key": "isActive",
                  "value": "true"
                },
                {
                  "key": "search",
                  "value": "dog"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Animal - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains animal data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.collectionVariables.set('TEST_ANIMAL_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Buddy\",\n  \"speciesId\": 1,\n  \"breedId\": 1,\n  \"sex\": \"Male\",\n  \"birthDate\": \"2020-01-15\",\n  \"intakeDate\": \"2023-05-20\",\n  \"status\": \"AVAILABLE\",\n  \"price\": 250,\n  \"isActive\": true,\n  \"imageUrl\": \"https://example.com/buddy.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Animal By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains animal details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.expect(jsonData).to.have.property('species');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal/{{TEST_ANIMAL_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "{{TEST_ANIMAL_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Animal - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Animal was updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.expect(jsonData.price).to.eql(300);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Buddy Updated\",\n  \"speciesId\": 1,\n  \"breedId\": 1,\n  \"sex\": \"Male\",\n  \"birthDate\": \"2020-01-15\",\n  \"intakeDate\": \"2023-05-20\",\n  \"status\": \"AVAILABLE\",\n  \"price\": 300,\n  \"isActive\": true,\n  \"imageUrl\": \"https://example.com/buddy.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/update/{{TEST_ANIMAL_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "update", "{{TEST_ANIMAL_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Animal - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal/delete/{{TEST_ANIMAL_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "delete", "{{TEST_ANIMAL_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Animal Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Animal By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Animal not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Animal - Missing Required Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Incomplete Animal\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Animal - Invalid Species ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates validation error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/name|character|validation/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Invalid Animal\",\n  \"speciesId\": 99999,\n  \"breedId\": 1,\n  \"sex\": \"Male\",\n  \"birthDate\": \"2020-01-15\",\n  \"intakeDate\": \"2023-05-20\",\n  \"status\": \"AVAILABLE\",\n  \"price\": 250,\n  \"isActive\": true,\n  \"imageUrl\": \"https://example.com/invalid.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Animal - Invalid Breed ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates validation error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/name|character|validation/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Invalid Animal\",\n  \"speciesId\": 1,\n  \"breedId\": 99999,\n  \"sex\": \"Male\",\n  \"birthDate\": \"2020-01-15\",\n  \"intakeDate\": \"2023-05-20\",\n  \"status\": \"AVAILABLE\",\n  \"price\": 250,\n  \"isActive\": true,\n  \"imageUrl\": \"https://example.com/invalid.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Animal - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400\", function () {", "    pm.response.to.have.status(400);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Animal - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Animal not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Non-existent Animal\",\n  \"speciesId\": 1,\n  \"breedId\": 1,\n  \"sex\": \"Male\",\n  \"birthDate\": \"2020-01-15\",\n  \"intakeDate\": \"2023-05-20\",\n  \"status\": \"AVAILABLE\",\n  \"price\": 250,\n  \"isActive\": true,\n  \"imageUrl\": \"https://example.com/test.jpg\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/animal/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Animal - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal", "delete", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Animals - Invalid Page Parameter",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/animal?page=-1&size=8",
              "host": ["{{BASEURL}}"],
              "path": ["api", "animal"],
              "query": [
                {
                  "key": "page",
                  "value": "-1"
                },
                {
                  "key": "size",
                  "value": "8"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "AdoptionApplication Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Adoption Applications - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is paginated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('content');",
                  "    pm.expect(jsonData).to.have.property('totalElements');",
                  "    pm.expect(jsonData).to.have.property('totalPages');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/all?page=0&size=8",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "all"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "8"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Adoption Applications - With Filters",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is paginated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('content');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/all?status=PENDING&search=test",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "all"],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING"
                },
                {
                  "key": "search",
                  "value": "test"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Adoption Application - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains application data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('animal');",
                  "    pm.expect(jsonData.animal).to.have.property('id');",
                  "    pm.collectionVariables.set('TEST_APPLICATION_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 1,\n  \"animalId\": 2,\n  \"description\": \"I would love to adopt this pet. I have a big yard and plenty of time to care for them.\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Adoption Application By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains application details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('description');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/{{TEST_APPLICATION_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "{{TEST_APPLICATION_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Applications For User - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/user/1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "user", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Check If User Applied For Animal - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is a boolean\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(typeof jsonData).to.eql('boolean');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/has-applied/1/1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "has-applied", "1", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Reject Adoption Application - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Application was rejected\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/reject/{{TEST_APPLICATION_ID}}?reviewedByUserId=1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "reject", "{{TEST_APPLICATION_ID}}"],
              "query": [
                {
                  "key": "reviewedByUserId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Adoption Application - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/delete/{{TEST_APPLICATION_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "delete", "{{TEST_APPLICATION_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "AdoptionApplication Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Application By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Could not find application');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Application - Missing Required Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Incomplete application\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Application - Invalid User ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 404\", function () {",
                  "    pm.expect([400, 404, 500]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid user\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/user|not found|invalid/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 99999,\n  \"animalId\": 1,\n  \"description\": \"Application with invalid user ID\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Application - Invalid Animal ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 404\", function () {",
                  "    pm.expect([400, 404, 500]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid animal\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/animal|not found|invalid/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 1,\n  \"animalId\": 99999,\n  \"description\": \"Application with invalid animal ID\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Application - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400\", function () {", "    pm.response.to.have.status(400);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Application - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Could not find application');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 1,\n  \"animalId\": 1,\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Reject Application - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Could not find application');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/reject/99999?reviewedByUserId=1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "reject", "99999"],
              "query": [
                {
                  "key": "reviewedByUserId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Application - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Could not find application');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "delete", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Applications - Invalid User ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404 or 200\", function () {",
                  "    pm.expect([200, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Response is empty array or error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (pm.response.code === 200) {",
                  "        pm.expect(jsonData).to.be.an('array');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/adoption-application/user/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "adoption-application", "user", "99999"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Breed Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Breeds - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed"]
            }
          },
          "response": []
        },
        {
          "name": "Get Breeds By Species - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed/species/1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "species", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Add Breed - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains breed data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.collectionVariables.set('TEST_BREED_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Breed\",\n  \"speciesId\": 1\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/breed/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Breed By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains breed details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed/{{TEST_BREED_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "{{TEST_BREED_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Breed - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Breed was updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Test Breed\",\n  \"speciesId\": 1\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/breed/update/{{TEST_BREED_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "update", "{{TEST_BREED_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Breed - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed/delete/{{TEST_BREED_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "delete", "{{TEST_BREED_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Breed Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Breed By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Breed not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Get Breeds By Species - Invalid Species ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404 or 200\", function () {",
                  "    pm.expect([200, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Response is empty array or error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (pm.response.code === 200) {",
                  "        pm.expect(jsonData).to.be.an('array');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed/species/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "species", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Breed - Missing Required Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Incomplete Breed\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/breed/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Breed - Invalid Species ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 404\", function () {",
                  "    pm.expect([400, 404, 500]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid species\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/species|not found|invalid/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Invalid Breed\",\n  \"speciesId\": 99999\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/breed/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Breed - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400\", function () {", "    pm.response.to.have.status(400);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/breed/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Breed - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Breed not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Non-existent Breed\",\n  \"speciesId\": 1\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/breed/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Breed - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/breed/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "breed", "delete", "99999"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Species Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Species - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/species",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species"]
            }
          },
          "response": []
        },
        {
          "name": "Add Species - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains species data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.collectionVariables.set('TEST_SPECIES_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Species\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Species By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains species details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/species/{{TEST_SPECIES_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "{{TEST_SPECIES_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Species - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Species was updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Test Species\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/update/{{TEST_SPECIES_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "update", "{{TEST_SPECIES_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Species - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/species/delete/{{TEST_SPECIES_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "delete", "{{TEST_SPECIES_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Species Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Species By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Species not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/species/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Species - Missing Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Species - Empty Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Species - Name Too Short",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"A\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Species - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Species not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Non-existent Species\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Update Species - Empty Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/species/update/1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "update", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Species - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/species/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "species", "delete", "99999"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "MedicalRecord Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'oxVet@gmail.com',",
              "            password: '123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Medical Records - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record"]
            }
          },
          "response": []
        },
        {
          "name": "Get Medical Records By Animal - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/animal/1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "animal", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Add Medical Record - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains medical record data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('animal');",
                  "    pm.expect(jsonData.animal).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('date');",
                  "    pm.expect(jsonData).to.have.property('diagnosis');",
                  "    pm.expect(jsonData).to.have.property('treatment');",
                  "    pm.collectionVariables.set('TEST_MEDICAL_RECORD_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"date\": \"2024-01-15\",\n  \"diagnosis\": \"Healthy - Annual checkup\",\n  \"treatment\": \"Routine vaccination and wellness check\",\n  \"cost\": 150\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Medical Record By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains medical record details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('date');",
                  "    pm.expect(jsonData).to.have.property('diagnosis');",
                  "    pm.expect(jsonData).to.have.property('treatment');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/{{TEST_MEDICAL_RECORD_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "{{TEST_MEDICAL_RECORD_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Medical Record - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Medical record was updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('date');",
                  "    pm.expect(jsonData).to.have.property('diagnosis');",
                  "    pm.expect(jsonData).to.have.property('treatment');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"date\": \"2024-01-16\",\n  \"diagnosis\": \"Excellent health - Follow-up checkup\",\n  \"treatment\": \"Updated vaccination schedule and wellness check\",\n  \"cost\": 200\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/update/{{TEST_MEDICAL_RECORD_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "update", "{{TEST_MEDICAL_RECORD_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Medical Record - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/delete/{{TEST_MEDICAL_RECORD_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "delete", "{{TEST_MEDICAL_RECORD_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "MedicalRecord Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'oxVet@gmail.com',",
              "            password: '123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Medical Record By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Medical Record not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Get Records By Animal - Invalid Animal ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 404\", function () {",
                  "    pm.expect([200, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Response is empty array or error\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (pm.response.code === 200) {",
                  "        pm.expect(jsonData).to.be.an('array');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/animal/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "animal", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Medical Record - Missing Required Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Incomplete record\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Medical Record - Invalid Animal ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 404\", function () {",
                  "    pm.expect([400, 404, 500]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid animal\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/animal|not found|invalid/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 99999,\n  \"date\": \"2024-01-15\",\n  \"diagnosis\": \"Test diagnosis\",\n  \"treatment\": \"Test treatment\",\n  \"cost\": 100\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Medical Record - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400\", function () {", "    pm.response.to.have.status(400);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Medical Record - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Medical Record not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"recordDate\": \"2024-01-15\",\n  \"recordType\": \"CHECKUP\",\n  \"description\": \"Non-existent record\",\n  \"veterinarianName\": \"Dr. Smith\",\n  \"notes\": \"Test\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Medical Record - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/medical-record/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "medical-record", "delete", "99999"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "VaccinationType Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'ox1@gmail.com',",
              "            password: 'test123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Vaccination Types - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination Type - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains vaccination type data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('vaccineName');",
                  "    pm.collectionVariables.set('TEST_VACCINATION_TYPE_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vaccineName\": \"Test VaccinationType\",\n  \"description\": \"Test vaccination type for API testing\",\n  \"durationMonths\": 12,\n  \"requiredForAdoption\": false\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Vaccination Type By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains vaccination type details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('vaccineName');",
                  "    pm.expect(jsonData).to.have.property('durationMonths');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/{{TEST_VACCINATION_TYPE_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "{{TEST_VACCINATION_TYPE_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Vaccination Type - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Vaccination type was updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('vaccineName');",
                  "    pm.expect(jsonData).to.have.property('description');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vaccineName\": \"Updated Test Vaccination\",\n  \"description\": \"Updated description for testing\",\n  \"durationMonths\": 24,\n  \"requiredForAdoption\": true\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/update/{{TEST_VACCINATION_TYPE_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "update", "{{TEST_VACCINATION_TYPE_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Vaccination Type - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/delete/{{TEST_VACCINATION_TYPE_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "delete", "{{TEST_VACCINATION_TYPE_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "VaccinationType Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'oxVet@gmail.com',",
              "            password: '123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Vaccination Type By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Vaccination Type not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination Type - Missing Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400, 409, or 500\", function () {",
                  "    pm.expect([400, 409, 500]).to.include(pm.response.code);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Missing name field\",\n  \"durationMonths\": 12,\n  \"requiredForAdoption\": false\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination Type - Empty Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400, 409, or 500\", function () {",
                  "    pm.expect([400, 409, 500]).to.include(pm.response.code);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\",\n  \"description\": \"Empty name\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination Type - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 409\", function () {", "    pm.expect([400, 409]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Vaccination Type - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Vaccination Type not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Non-existent Type\",\n  \"description\": \"Test\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Update Vaccination Type - Empty Name",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400, 409, or 500\", function () {",
                  "    pm.expect([400, 409, 500]).to.include(pm.response.code);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vaccineName\": \"\",\n  \"description\": \"Empty name\",\n  \"durationMonths\": 12,\n  \"requiredForAdoption\": false\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/update/1",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "update", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Vaccination Type - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination-type/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination-type", "delete", "99999"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Vaccination Controller - Positive Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'oxVet@gmail.com',",
              "            password: '123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get All Vaccinations - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response contains vaccination data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('animal');",
                  "    pm.expect(jsonData.animal).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('vaccinationType');",
                  "    pm.collectionVariables.set('TEST_VACCINATION_ID', jsonData.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"vaccinationTypeId\": 1,\n  \"dateAdministered\": \"2024-01-15\",\n  \"nextDueDate\": \"2025-01-15\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Get Vaccination By ID - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains vaccination details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('dateAdministered');",
                  "    pm.expect(jsonData).to.have.property('animal');",
                  "    pm.expect(jsonData).to.have.property('vaccinationType');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/{{TEST_VACCINATION_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "{{TEST_VACCINATION_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Vaccination - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Vaccination was updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('dateAdministered');",
                  "    pm.expect(jsonData).to.have.property('animal');",
                  "    pm.expect(jsonData).to.have.property('vaccinationType');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"vaccinationTypeId\": 1,\n  \"dateAdministered\": \"2024-01-16\",\n  \"nextDueDate\": \"2025-01-16\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/update/{{TEST_VACCINATION_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "update", "{{TEST_VACCINATION_ID}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Vaccination - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 204\", function () {", "    pm.response.to.have.status(204);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/delete/{{TEST_VACCINATION_ID}}",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "delete", "{{TEST_VACCINATION_ID}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Vaccination Controller - Negative Tests",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Login to get access token before running tests",
              "pm.sendRequest({",
              "    url: pm.collectionVariables.get('BASEURL') + '/api/auth/login',",
              "    method: 'POST',",
              "    header: {",
              "        'Content-Type': 'application/json'",
              "    },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            email: 'oxVet@gmail.com',",
              "            password: '123!'",
              "        })",
              "    }",
              "}, function (err, res) {",
              "    if (err) {",
              "        console.log('Login failed:', err);",
              "    } else {",
              "        var jsonData = res.json();",
              "        pm.collectionVariables.set('ACCESS_TOKEN', jsonData.accessToken);",
              "        console.log('Login successful, token set');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "item": [
        {
          "name": "Get Vaccination By ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Vaccination not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination - Missing Required Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400 or 500\", function () {", "    pm.expect([400, 500]).to.include(pm.response.code);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Incomplete vaccination record\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination - Invalid Animal ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 404\", function () {",
                  "    pm.expect([400, 404, 500]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid animal\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/animal|not found|invalid/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 99999,\n  \"vaccinationTypeId\": 1,\n  \"dateAdministered\": \"2024-01-15\",\n  \"nextDueDate\": \"2025-01-15\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination - Invalid Vaccination Type ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 404\", function () {",
                  "    pm.expect([400, 404, 500]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid vaccination type\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(JSON.stringify(jsonData).toLowerCase()).to.match(/vaccination|type|not found|invalid/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"vaccinationTypeId\": 99999,\n  \"dateAdministered\": \"2024-01-15\",\n  \"nextDueDate\": \"2025-01-15\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Add Vaccination - Empty Body",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["pm.test(\"Status code is 400\", function () {", "    pm.response.to.have.status(400);", "});"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/add",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Vaccination - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "    pm.expect(jsonData.message).to.include('Vaccination not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"animalId\": 1,\n  \"vaccinationTypeId\": 1,\n  \"administeredDate\": \"2024-01-15\",\n  \"expirationDate\": \"2025-01-15\",\n  \"veterinarianName\": \"Dr. Johnson\",\n  \"notes\": \"Non-existent vaccination\"\n}"
            },
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/update/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "update", "99999"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Vaccination - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Response has correct error structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('error', 'Not Found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASEURL}}/api/vaccination/delete/99999",
              "host": ["{{BASEURL}}"],
              "path": ["api", "vaccination", "delete", "99999"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "BASEURL",
      "value": "http://localhost:8080"
    },
    {
      "key": "PROFILE_ENDPOINT",
      "value": "/api/me"
    },
    {
      "key": "REGISTER",
      "value": "/api/auth/register"
    },
    {
      "key": "LOGIN",
      "value": "/api/auth/login"
    },
    {
      "key": "LOGOUT",
      "value": "/api/auth/logout"
    },
    {
      "key": "REFRESH",
      "value": "/api/auth/refresh"
    },
    {
      "key": "ACCESS_TOKEN",
      "value": ""
    },
    {
      "key": "TEST_USER_ID",
      "value": ""
    },
    {
      "key": "TEST_SPECIES_ID",
      "value": ""
    },
    {
      "key": "TEST_BREED_ID",
      "value": ""
    },
    {
      "key": "TEST_ANIMAL_ID",
      "value": ""
    },
    {
      "key": "TEST_APPLICATION_ID",
      "value": ""
    },
    {
      "key": "TEST_MEDICAL_RECORD_ID",
      "value": ""
    },
    {
      "key": "TEST_VACCINATION_TYPE_ID",
      "value": ""
    },
    {
      "key": "TEST_VACCINATION_ID",
      "value": ""
    }
  ]
}
